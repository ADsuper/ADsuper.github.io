<?xml version="1.0" encoding="utf-8"?>
<search>
  
    
    <entry>
      <title><![CDATA[android6.0运行时权限使用流程]]></title>
      <url>%2F2017%2F03%2F23%2Fandroid6.0%E8%BF%90%E8%A1%8C%E6%97%B6%E6%9D%83%E9%99%90%E4%BD%BF%E7%94%A8%E6%B5%81%E7%A8%8B%2F</url>
      <content type="text"><![CDATA[前言：本文不涉及第三方的类库和工具，只是原生的操作流程 一、简介Android6.0 之前，用户安装 app ,会根据声明的权限生成一个权限列表，只有用户同意才能完成安装，而用户一般也不会注意这些权限，有可能会造成一些私密权限的泄漏，从而威胁到我们手机本身的信息安全！ Android6.0之后，运行时权限解决了这一问题，用户可以直接安装 app ，一些高危权限会在应用运行的过程中动态申请，我们可以选择同意或者拒绝，也可以在设置界面对每个 app 的权限进行查看和修改。 二、权限简介官网上有句话，系统权限分为几个保护级别，需要了解的最重要的两个是 正常权限 和 危险权限 ，而运行时权限就是针对危险权限而言的。 危险权限官网定义： 危险权限涵盖应用需要涉及用户隐私信息的数据或资源，或者可能对用户存储的数据或其他应用的操作产生影响的区域。例如，能够读取用户的联系人属于危险权限。如果应用声明其需要危险权限，则用户必须明确向应用授予该权限。 危险权限种类： 注意：左侧为权限组，右侧为权限组的具体权限，同一组内的任何一个权限被授权了，其他权限也自动被授权，系统只告诉用户应用需要的权限组，而不告知具体权限！ 使用路程 需要将 app 的 targetSdkVersion 设置到 23 及其以上，这样才有可能触发运行时权限。 在AndroidManifest文件中添加所需要的权限。 先检查系统版本，如果系统在 6.0 以上，采取运行时权限，版本名称和版本号参考官网：https://developer.android.com/reference/android/os/Build.VERSION_CODES.html 1Build.VERSION.SDK_INT &gt;= 23 几个重要的 API 12345678910 检查某个权限是否被授予 ，以相机权限为例if ( ContextCompat.checkSelfPermission ( this,Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED ) &#123; //申请相机权限操作&#125;else&#123; //相机权限已申请操作&#125; 123456789该方法只有在用户在上一次已经拒绝过你的这个权限申请。也就是说，用户已经拒绝一次了，你又弹个授权框，你需要给用户一个解释，为什么要授权，则使用该方法，只有第一次被拒绝，当第二次申请时， if 条件为 true，其他都为 falseif (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.CAMERA)) &#123; &#125; 12345678910申请相机权限操作第一个参数是Context；第二个参数是需要申请的权限的字符串数组；第三个参数为requestCode， 主要用于回调时候监测其中第二个参数支持一次性申请多个权限的，系统会通过对话框逐一询问用户是否授权ActivityCompat.requestPermissions(this, new String[]&#123;Manifest.permission.CAMERA&#125;, CAMERA_REQUEST_CODE); 123456789101112131415161718192021此方法是权限申请的回调方法，在此方法中处理权限申请成功或失败后的操作。@Overridepublic void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) &#123; switch (requestCode) &#123; case CAMERA_REQUEST_CODE: &#123; if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) &#123; //权限申请成功操作 &#125; else &#123; //权限申请失败 //用户勾选了禁止后不再询问，提示用户手动打开权限 &#125; return; &#125; &#125;&#125; 完整的操作流程 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879//判断系统版本是否大于23 private boolean isRequestPermission() &#123; return Build.VERSION.SDK_INT &gt;= 23; &#125; //自定义请求权限 private void requestPermission() &#123; if (!isRequestPermission()) &#123; return; &#125; //检查是否已经拥有该权限 if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) &#123; //判断是否是第二次申请，（第一次被用户拒绝），如果是的话，做一些说明，一般是弹框说明 if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.CAMERA)) &#123; //弹出一个dialog，说明第二次请求原因 new AlertDialog.Builder(this) .setMessage(&quot;申请照相机权限&quot;) .setPositiveButton(&quot;确定&quot;, new DialogInterface.OnClickListener() &#123; @Override public void onClick(DialogInterface dialog, int which) &#123; ActivityCompat.requestPermissions(MainActivity.this, new String[]&#123;Manifest.permission.CAMERA&#125;, CAMERA_REQUEST_CODE ); &#125; &#125;).show(); &#125; else &#123;//不是的话就执行申请操作 ActivityCompat.requestPermissions(MainActivity.this, new String[]&#123;&#125;, CAMERA_REQUEST_CODE ); &#125; &#125; else &#123; //相机权限已申请操作 &#125; &#125; /** * 权限申请回调 * * @param requestCode 请求码 * @param permissions 请求的权限列表 * @param grantResults 请求的结果列表 */ @Override public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) &#123; super.onRequestPermissionsResult(requestCode, permissions, grantResults); switch (requestCode) &#123; case CAMERA_REQUEST_CODE: &#123; if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) &#123; //权限申请成功操作 &#125; else &#123; //权限申请失败 //用户勾选了禁止后不再询问，提示用户手动打开权限 if (!ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.CAMERA))&#123; Toast.makeText(MainActivity.this,&quot;请在设置列表打开相机权限&quot;,Toast.LENGTH_SHORT).show(); &#125; &#125; return; &#125; &#125; &#125; 有几位大神总结的很不错，附上链接 Hongyang大神 郭霖大神]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[随笔感受]]></title>
      <url>%2F2017%2F03%2F22%2F%E9%9A%8F%E7%AC%94%E6%84%9F%E5%8F%97%2F</url>
      <content type="text"><![CDATA[前言生活中从不缺少感悟和体会，我要把这些感想记录下来，以后再看或许是些宝贵的经验！ 1. 结缘小密圈结缘小密圈说起来也很凑巧，也很幸运，自己的微信有很多技术性的公众号，关注的原因无非就是为了多学点东西，其中有一个叫做 「AndroidDevelop」 ，是看过他的一篇博客然后搜索添加的，这个公众号的主人叫做 「stormzhang」 ，人称 帅比张，一直在看他写的文章，也觉得不错，然后有一天看到此人开通小密圈了，然后果断下载付费入圈 —– 「帅比张读者圈」，时间是 2月27号 ，现在想来，挺幸运的，要不我得错过多少好东西，入圈没几天就感觉值回票价了！！ 注：此博客就是在加入小密圈之后才了解并搭建的！ 2. 写作动力我不是一个喜欢写东西的人，现在才了解到原因，是因为我还没了解到写作的好处！写作不仅能提高逼格，更重要的是，让我学会梳理和记录平时所学，从而提高学习和解决问题的效率，记录自己，帮助他人！ 有些东西，脑子里边知道，能说出来，不一定能写的出来 3. 写作排版说实话，之前就算写东西也从来没注意过这些东西，当初写的目的仅仅是为了记录一些东西，由于写的比较乱和杂，也导致很多东西时间长就丢了，帅比张分享了一些关于排版的规格，按照规格一来，确实好看了不少，当然我现在还是初学者，有待改进！ 4.独立思考和选择当遇到两难抉择的问题时，只需要把所有的选择罗列出来，利弊各自写下来，这样就一目了然了！ 5. 付费买知识付费买知识是我个人意识的重大改变，谁的时间都不是免费的，你占用别人的时间来为你回答问题，难道不应该掏钱么？ 可能书买了不会去看，但是如果让你付费问别人问题，你会么？，如果会的话，我想这个问题的答案肯定会记得牢一点！ 我感觉这跟我们找人办事请吃饭差不多，只不过换了个的场景！ 6.只字不差的阅读我认为阅读越细越好，特别是一些技术文章，细致的阅读能让人深入进去，从而提炼更为有用的东西，这也是我要提高的地方！]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Git命令总结]]></title>
      <url>%2F2017%2F03%2F21%2FGit%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93%2F</url>
      <content type="text"><![CDATA[前言：由于在搞博客的原因，顺带着多了解了点 Git 命令，欢迎大家指正！ 一、Git工具下载地址：https://git-scm.com/download/安装也很简单，基本就是一直下一步，选默认的就好！ 二、常用命令介绍1. 本地文件夹与 github 远程仓库建立连接在需要建立连接的文件夹，右键 Git Bash 输入： 12git initgit remote add origin &lt;server&gt; 其中，server是 github 远程仓库地址，origin只是仓库的一个别名，这里可以随意变！ 2. 将本地的文件，同步到 github 远程仓库上123git add . #添加所有目录，后边有个点git commit -m &quot;message&quot; #添加提交说明信息git push -u origin master #云端同步 3. 把 github 上的文件取回本地在本地先建立一个文件夹，右键 Git Bash 输入： 1234git initgit remote add origin &lt;server&gt; # server是远程仓库地址git fetch –allgit merge origin/master #这个origin与步骤 1 的那个一致 4. 如果两个PC端操作一个远程仓库地址12每次先 git pull 进行同步更新，然后执行步骤 2 5.修改 github 远程仓库地址 第一种方式：在需要修改远程地址的文件夹下 右键 Git Bash 输入： 12git remote rm origin #先删除git remote add origin &lt;server&gt; #重新添加地址 第二种方式：找到.git文件夹下的config文件 找到 [remote “origin”]，下边的url就是远程仓库地址，修改成自己需要的就好！]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[基于Hexo-Github---搭建个人博客笔记]]></title>
      <url>%2F2017%2F03%2F19%2F%E5%9F%BA%E4%BA%8EHexo-Github-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%AC%94%E8%AE%B0-1%2F</url>
      <content type="text"><![CDATA[前言:为了搭建这个博客，踩得坑不计其数，说焦头烂额也不为过．参考博客： 基于Hexo+GitHub Pages 搭建个人博客教程 正文：一、环境的搭建 Note.js下载和安装 1.下载地址：https://nodejs.org/en/download/ 2.windows下安装非常简单 参考地址：http://www.runoob.com/nodejs/nodejs-install-setup.html Git下载和安装 1.下载地址：https://git-scm.com/download/ 2.windows下安装也很简单，参考地址：http://jingyan.baidu.com/article/90895e0fb3495f64ed6b0b50.html 二、安装Hexo 桌面上鼠标右键打开Git Bash。 输入安装命令 1npm install -g hexo-cli 选择硬盘目录作为存放文件的路径 1hexo init e:\blog #在E盘先创建一个blog文件夹存放文件 进入该目录后再进行其他操作 1cd e:\blog 执行安装依赖包的命令 1npm install 生成部署文件，启动本地服务 123hexo g # 或者hexo generate hexo s # 或者hexo server，可以在http://localhost:4000/ 查看 现在我们打开 http://localhost:4000/ 就可以看到我们刚才搭建的本地博客了，Hexo会默认生成一个Hello World的博文。 停止是ctrl+c hexo几个常用命令123456hexo generate (hexo g) 生成静态文件，会在当前目录下生成一个新的叫做public的文件夹hexo server (hexo s) 启动本地web服务，用于博客的预览hexo deploy (hexo d) 部署博客到远端服务器hexo new &quot;postName&quot; #新建文章hexo new page &quot;pageName&quot; #新建页面 三、github Pages设置 登录github官网创建github账号： http://www.github.com/ 创建仓库: 点击右侧+号，new repository 仓库名字必须是 username/username.github.io ，这是特殊的命名约定。 username 就是注册的github账号名字 配置 ssh 检查本地是否存在 ssh ，如果存在就删除 .ssh文件夹 1ls -al ~/.ssh 设置 name 和 email ，注意：这里的那么和email是随意的，并没有特别的限定 12git config --global user.name &quot;&lt;your name&gt;&quot;git config --global user.email &quot;&lt;your email&gt;&quot; 生成 ssh 秘钥 ，这里的邮箱是注册 github 的邮箱 1ssh-keygen -t rsa -C &quot;XXXXX@qq.com&quot; 一路回车，可以设置密码，如果设置要记住后边要用 这一步在~/.ssh/下生成了两个文件id_rsa 和 id_rsa.pub 打开 id_rsa.pub 复制全部内容，这就是 ssh 秘钥 配置 ssh 秘钥 在自己的 github 主页，点击右侧头像下的 setting ，选择 SSH and GPG keys , 然后点击 New SSH key，粘贴刚才复制的 SSH 保存。 检查是否配置成功 ，输入以下命令 1ssh git@github.com 成功的话会显示以下内容 1234567The authenticity of host &apos;github.com (192.30.252.128)&apos; can&apos;t be established.RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.Are you sure you want to continue connecting (yes/no)? yesWarning: Permanently added &apos;github.com,192.30.252.128&apos; (RSA) to the list of known hosts.Hi git-xuhao! You&apos;ve successfully authenticated, but GitHub does not provide shell access.Connection to github.com closed. 四、部署到 github 配置 _config.yml ，在自己创建的 blog 目录下 ，最下方。 1234567# Deployment## Docs: https://hexo.io/docs/deployment.html# ssh://git@github.com/git-xuhao/git-xuhao.github.iodeploy: type: git repo: ssh://git@github.com/git-xuhao/git-xuhao.github.io branch: master 其中，repo是我们刚刚建立的远程仓库，换成你自己的仓库，同时因为刚才配置了SSH-Key，所以必须是SSH形式的URL。值得注意的是，每一个: 后面都必须有一个空格，否则会引起错误 安装 git 包 1npm install hexo-deployer-git --save 部署到 github 上 1hexo deploy 现在我们可以通过访问 http://adsuper.github.io/ 来访问我们自己的博客啦，其中链接是自己的仓库名。 五、Hexo 配置文件常用到的配置文件一共有两个，分别是blog根目录下的 _config.yml 和 主题下的 _config.yml ，(themes文件夹的为主题)； 关于配置文件的具体描述请参考： https://hexo.io/zh-cn/docs/configuration.html 六、如何使用？ 新建一篇博文可通过以下的命令 ，要在bolg根目录下打开 Git Bash 1hexo new &quot;name&quot; 其中name为博文的名字，建立完成之后，可以在./source/_posts文件夹下发现我们刚刚建立的 name.md文件 博文写好之后，在每次发布之前，我们要先将写好的博客生成静态文件，执行以下命令 1hexo g 静态文件生成之后，便可以部署到GitHub上 hexo d 然后打开我们的博客，就可以看到我们刚刚新建的博文了 七、主题推荐Hexo提供了许多的主题可供我们选择和使用，在./themes目录下存放主题。刚才默认生成的博客用的就是默认的主题landscape。 主题推荐请参考： https://github.com/hexojs/hexo/wiki/Themes 我自己使用的是 Next 主题。 Next主题的配置方法参考： http://theme-next.iissnan.com/getting-started.html]]></content>
    </entry>

    
  
  
</search>
